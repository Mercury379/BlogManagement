<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.newblognewsystem.system.mapper.UserMapper">
    <!-- 通过用户id和角色名称给用户赋予角色-->
    <insert id="assignRoles">
        insert into sys_user_role(id,user_id, role_id)
        select '${@com.baomidou.mybatisplus.core.toolkit.IdWorker@getId()}',#{id},r.id
        from sys_role r
        where r.name=#{role}
    </insert>


    <!--    通过文章id查询文章详情及标签-->
    <select id="findRolebyID" resultType="Role">
        SELECT m2.* FROM mxg_blog_system.sys_user_role m1
        Left join mxg_blog_system.sys_role m2 on m2.id = m1.role_id
        where m1.user_id=#{id}
    </select>


</mapper>